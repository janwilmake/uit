{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "additionalProperties": false,
  "required": ["attribution"],
  "description": "context.json can be used to allow people to more easily understand the codebase through uithub and other context exploration interfaces. This schema format is designed to work with the Universal Information Terminal Hub (uithub).",
  "properties": {
    "$schema": {
      "type": "string",
      "default": "https://uuithub.com/context.schema.json"
    },
    "extends": {
      "oneOf": [
        { "type": "string", "format": "uri" },
        { "type": "array", "items": { "format": "uri", "type": "string" } }
      ],
      "description": "URI to base configuration file to inherit from",
      "default": "https://raw.githubusercontent.com/janwilmake/uit/refs/heads/main/default-faq.json"
    },

    "context": {
      "description": "Array of context; questions and filters. Only slug is required, and at least either question or filter.",
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["slug"],
        "properties": {
          "slug": {
            "type": "string",
            "maxLength": 40,
            "description": "URL-friendly identifier",
            "pattern": "^[a-zA-Z0-9_-]+$"
          },
          "title": {
            "type": "string",
            "description": "Title for quick navigation. If not given, slug is used."
          },
          "question": {
            "type": "string",
            "description": "One paragraph question to use in FAQ section",
            "maxLength": 140
          },
          "prompt": {
            "type": "string",
            "description": "Optional: a more extensive prompt to use instead of the question itself.",
            "maxLength": 16000
          },
          "filter": {
            "type": "string",
            "description": "Pathname and/or querystring to apply to get trimmed down context.\n\nStart with ? to only include queryString. The string before '?' is considered the pathname. \n\nPlease do not include the hostname.",
            "examples": [],
            "maxLength": 16000
          },
          "preferredModel": {
            "type": "object",
            "description": "",
            "additionalProperties": false,
            "required": ["model", "endpoint", "key"],
            "properties": {
              "endpoint": { "type": "string" },
              "model": { "type": "string" },
              "key": {
                "type": "string",
                "description": "the environment variable key name to authorize usage of this model."
              }
            }
          }
        }
      }
    },
    "attribution": {
      "type": "string",
      "description": "Required attribution for Universal Information Terminal",
      "default": "Powered by Universal Information Terminal (UIT) by Jan Wilmake - https://github.com/janwilmake/uit"
    }
  }
}
